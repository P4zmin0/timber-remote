<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIMBER: TopPt_weight Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIMBER
   &#160;<span id="projectnumber">beta</span>
   </div>
   <div id="projectbrief">Tree Interface for Making Binned Events with RDataFrame</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_top_pt__weight-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TopPt_weight Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>C++ class. Handles the top \(p_T\) reweighting value for \(t\bar{t}\) simulation based on doing gen particle matching. The weight is calculated as.  
 <a href="class_top_pt__weight.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02c04ed5b49c7450fb53ded3a2a9620c"><td class="memItemLeft" align="right" valign="top">RVec&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_top_pt__weight.html#a02c04ed5b49c7450fb53ded3a2a9620c">eval</a> (RVec&lt; int &gt; GenPart_pdgId, RVec&lt; int &gt; GenPart_statusFlags, RVec&lt; ROOT::Math::PtEtaPhiMVector &gt; GenPart_vect, ROOT::Math::PtEtaPhiMVector jet0, ROOT::Math::PtEtaPhiMVector jet1, float scale=0.5)</td></tr>
<tr class="memdesc:a02c04ed5b49c7450fb53ded3a2a9620c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the top \(p_T\) reweighting value for \(t\bar{t}\) simulation based on doing gen particle matching. Additionally, calculate variations of the top \(p_T\) weight by varying the \(\beta\) parameter. The amount of variation can be changed via the scale arguement which is a percent change on \(\beta\). There is no corresponding function for \(\alpha\) because the effect is only a flat normalization change.  <a href="#a02c04ed5b49c7450fb53ded3a2a9620c">More...</a><br /></td></tr>
<tr class="separator:a02c04ed5b49c7450fb53ded3a2a9620c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e163989870f7cef6edecd4b06f47d8e"><td class="memItemLeft" align="right" valign="top"><a id="a7e163989870f7cef6edecd4b06f47d8e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_top_pt__weight.html#a7e163989870f7cef6edecd4b06f47d8e">TopPt_weight</a> ()</td></tr>
<tr class="memdesc:a7e163989870f7cef6edecd4b06f47d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="class_top_pt__weight.html" title="C++ class. Handles the top  reweighting value for  simulation based on doing gen particle matching...">TopPt_weight</a> object. No arguments. <br /></td></tr>
<tr class="separator:a7e163989870f7cef6edecd4b06f47d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>C++ class. Handles the top \(p_T\) reweighting value for \(t\bar{t}\) simulation based on doing gen particle matching. The weight is calculated as. </p>
<p class="formulaDsp">
\[ \sqrt{e^{\alpha - \beta \cdot p_{T}^{\textrm{Gen} t}} \cdot e^{\alpha - \beta \cdot p_{T}^{\textrm{Gen} \bar{t}} }} \]
</p>
<p>.</p>
<p>where \(\alpha = 0.0615\) and \(\beta = 0.0005\). See the <a class="el" href="class_top_pt__weight.html#a02c04ed5b49c7450fb53ded3a2a9620c" title="Calculate the top  reweighting value for  simulation based on doing gen particle matching. Additionally, calculate variations of the top  weight by varying the  parameter. The amount of variation can be changed via the scale arguement which is a percent change on . There is no corresponding function for  because the effect is only a flat normalization change. ">eval()</a> function to calculate the weight plus variations of the \(\beta\) parameter. The \(\alpha\) parameter is not varied since it would only represent a flat normalization change. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a02c04ed5b49c7450fb53ded3a2a9620c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c04ed5b49c7450fb53ded3a2a9620c">&#9670;&nbsp;</a></span>eval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RVec&lt; float &gt; eval </td>
          <td>(</td>
          <td class="paramtype">RVec&lt; int &gt;&#160;</td>
          <td class="paramname"><em>GenPart_pdgId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RVec&lt; int &gt;&#160;</td>
          <td class="paramname"><em>GenPart_statusFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RVec&lt; ROOT::Math::PtEtaPhiMVector &gt;&#160;</td>
          <td class="paramname"><em>GenPart_vect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ROOT::Math::PtEtaPhiMVector&#160;</td>
          <td class="paramname"><em>jet0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ROOT::Math::PtEtaPhiMVector&#160;</td>
          <td class="paramname"><em>jet1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scale</em> = <code>0.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the top \(p_T\) reweighting value for \(t\bar{t}\) simulation based on doing gen particle matching. Additionally, calculate variations of the top \(p_T\) weight by varying the \(\beta\) parameter. The amount of variation can be changed via the scale arguement which is a percent change on \(\beta\). There is no corresponding function for \(\alpha\) because the effect is only a flat normalization change. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">GenPart_pdgId</td><td>NanoAOD branch </td></tr>
    <tr><td class="paramname">GenPart_statusFlags</td><td>NanoAOD branch </td></tr>
    <tr><td class="paramname">GenPart_vect</td><td>Vector of ROOT::Math::PtEtaPhiMVectors (create through <a class="el" href="namespacehardware.html#ac4cf6f794442c05cd45c12422be730d3" title="Create a ROOT::Math::PtEtaPhiMVector. ">hardware::TLvector</a>) </td></tr>
    <tr><td class="paramname">jet0</td><td></td></tr>
    <tr><td class="paramname">jet1</td><td></td></tr>
    <tr><td class="paramname">scale</td><td>Percent variation on \(\beta\) parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RVec&lt;float&gt; {nom, up, down} variations of the top \(p_T\) reweighting value (absolute). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>TIMBER/Framework/include/<a class="el" href="_top_pt__weight_8h_source.html">TopPt_weight.h</a></li>
<li>TIMBER/Framework/src/TopPt_weight.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
